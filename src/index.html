<!doctype html>
<html>
	<head>
		<title>Ping Tree</title>

        <!-- todo:
            1. definitely need to use RequireJS
            -->

        <!-- third party -->
        <script src="zepto.js"></script>
        <script src="bootstrap.js"></script>
        <script src="datastore.js"></script>
        <script src="icanhaz.js"></script>

        <!-- mine -->
        <script src="datastore_util.js"></script>
        <script src="ping.js"></script>
        <script src="ping_utils.js"></script>
        <script src="app.js"></script>

        <!-- style -->
        <link rel="stylesheet" href="bootstrap.css">

        <!-- i can haz scripts -->
        <script id="template" type="text/html">
            <li id={{id}} class = "template">
                (Template: {{name}})
                <button class = "delete_template">
                    &times;
                </button>

                <button class = "show_template_form">
                    &plus;
                </button>

                <button class = "show_target_form">
                    *
                </button>

                <ul class = "subtemplates">
                </ul>
                <ul class = "targets">
                </ul>
                <!-- put template form here -->
                <!-- put the target form here -->
            </li>
        </script>

        <script id="template_form" type="text/html">
            <form class="template_form">
                <div>
                    <label>Template name:
                        <input type="text" name="name">
                    </label>
                </div>
                <button type="submit" class="template_add">
                    &plus;
                </button>
            </form>
        </script>

        <script id="target" type="text/html">
            <li id={{id}} class = "target">
                (Target: {{name}}) ({{valName}}: {{val}}) (Ping Count: {{count}})
                <button class = "target_delete">
                    &times;
                </button>
                <button class = "show_ping_form">
                    &plus;
                </button>
                <ul class = "pings">
                </ul>
                <!-- put the ping form here -->
            </li>
        </script>

        <script id="target_form" type="text/html">
            <form class="target_form">
                <label>Target name:
                    <input type="text" name="name"/>
                </label>
                <label>Val name:
                    <input type="text" name="valName"/>
                </label>
                <label>Val:
                    <input type="number" name="val">
                </label>
                <label>Upper bound on val?
                    <input type="checkbox" name="valUpperBound">
                </label>
                <label>Target count:
                    <input type="number" name="targetCount">
                </label>
                <label>Upper bound on count?
                    <input type="checkbox" name="countUpperBound">
                </label>
                <button type="submit" class="target_add">
                    &plus;
                </button>
            </form>
        </script>

        <script id="ping" type="text/html">
            <li id={{id}} class="ping">
                ({{valName}}: {{val}}) (Time: {{create_time}})
            </li>
        </script>

        <script id="ping_form" type="text/html">
            <form class="ping_form">
                <label>{{valName}}:
                   <input type="number" placeholder={{targetVal}}>
                </label>
                <button type="submit" class="ping_add">
                    &plus;
                </button>
            </form>
        </script>

	</head>
	<body>
		<!-- Hide UI until user has authenticated -->
		<div id="wrapper">
			<div id="main" >
                <!-- all the stuff goes here -->
			</div>

			<div id="login">
				<button id="loginButton">Link to Dropbox</button>
			</div>
		</div>
	</body>
</html>
